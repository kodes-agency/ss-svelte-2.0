<script lang="ts">
  import type { Order } from "$lib/types/orderTypes";
  import type { General } from "$lib/types/payloadTypes";
  import { isInverted } from "$lib/store/store";
  import { page } from "$app/stores";
  import Lang from "./Lang.svelte";
  import { goto } from "$app/navigation";
  import { slide } from "svelte/transition";
  import Button from "../elements/global/Button.svelte";

  let isOpen = false;

  export let cart: Order;
  export let pageData: General;
</script>

<div class="hidden md:block">
  <Lang />
</div>
<header class="fixed top-0 w-full z-30">
  <div class="relative">
    <div class="flex absolute top-0 justify-between w-full pt-5 px-5 md:pt-10 md:px-10">
      <a
        class=" transition-all duration-300 {$isInverted &&
        $page.route.id == '/[[lang]]'
          ? 'opacity-0'
          : 'opacity-100'}"
        href={$page.params.lang ? "/" + $page.params.lang : "/bg/"}
      >
        <svg
          class="black transition-all duration-300 {$isInverted
            ? 'fill-white'
            : 'fill-brown'}"
          id="logo"
          width="191"
          height="31"
          viewBox="0 0 191 31"
          fill=""
          xmlns="http://www.w3.org/2000/svg"
          ><path
            class="black svelte-1cu04lu"
            fill-rule="evenodd"
            clip-rule="evenodd"
            d="M23 28.2781C25.9986 30.1859 29.5435 30.8152 33.0605 30.4866C35.7361 30.2381 38.2164 29.5006 40.5172 28.3181C42.487 27.3081 44.3332 25.9653 46 24.3901C45.2942 24.334 44.3611 24.5625 43.5676 24.9312C41.518 26.7069 39.5602 27.6327 36.6891 28.0015C34.7751 28.246 32.8053 28.2179 31.0109 27.8772C29.2405 27.5446 27.4461 26.8712 25.9428 25.8852C31.9719 19.9411 31.4336 6.33734 23 0.56958C14.1637 6.47762 14.1318 19.8489 20.0572 25.8852C18.5539 26.8712 16.7595 27.5406 14.9891 27.8772C13.1947 28.2179 11.2249 28.246 9.31085 28.0015C6.43984 27.6327 4.47798 26.7069 2.43239 24.9312C1.63887 24.5625 0.705791 24.334 0 24.3901C1.66678 25.9653 3.513 27.3081 5.48284 28.3181C7.78762 29.5006 10.2639 30.234 12.9395 30.4866C16.4565 30.8152 20.0014 30.1819 23 28.2781ZM23 23.4001C28.6144 19.4921 27.1151 6.58985 23 2.62577C18.3067 6.58985 17.3856 19.4921 23 23.4001Z"
          ></path><path
            class="black svelte-1cu04lu"
            fill-rule="evenodd"
            clip-rule="evenodd"
            d="M84.9974 15.0492V13.754C86.4229 13.2144 88.5776 12.5668 88.7299 12.5344C88.9149 12.4912 89.2632 12.5236 89.2632 12.7071V15.2543C91.124 13.3871 92.7019 12.5344 93.7901 12.5344C96.2495 12.5344 97.3921 15.6104 97.3921 18.1792V27.7527C97.3921 28.2923 97.7404 29.0371 98.143 29.0371H99.1659V30.4941H93.5507V29.0371H94.3995C94.8457 29.0371 95.3463 28.2168 95.3463 27.7851V18.3195C95.3463 16.7761 94.8239 14.5851 92.506 14.7254C91.1349 14.8117 90.0032 15.7508 89.2632 17.1862V27.7527C89.2632 28.2923 89.742 29.0371 90.1446 29.0371H91.0152V30.4941H85.4218V29.0371H86.2706C86.7168 29.0371 87.2173 28.2168 87.2173 27.7851V16.0745C87.2173 15.4809 86.7494 15.0492 86.4121 15.0492H84.9865H84.9974ZM102.452 25.9718V15.1355H100.341V13.2899C101.049 13.3115 101.745 13.3331 102.452 13.3547V9.04824L104.531 7.6991V13.3871C106 13.3871 107.48 13.4518 108.971 13.3655V15.1679L104.531 15.1895V26.1229C104.531 27.9254 105.456 28.6161 106.631 28.6161C107.262 28.6161 107.948 28.573 108.851 28.152V29.7818C107.828 30.2459 106.707 30.5049 105.293 30.5049C105.042 30.5049 104.193 30.397 103.399 29.7818C102.485 29.0802 102.452 27.267 102.452 25.961V25.9718ZM175.722 2.19461V0.554062L179.628 0.00361138C179.868 -0.0287679 180.118 0.154717 180.118 0.629613V15.6644C181.837 12.9122 183.742 12.6423 184.841 12.6423C187.3 12.6423 188.443 15.5889 188.443 18.1684V27.7419C188.443 28.2815 188.791 29.0263 189.194 29.0263H190.217V30.4833H184.602V29.0263H185.45C185.897 29.0263 186.397 28.206 186.397 27.7743V18.6433C186.397 17.0999 185.679 14.8765 183.35 15.0276C181.979 15.114 180.847 16.1717 180.107 17.6072V27.7419C180.107 28.2815 180.586 29.0263 180.989 29.0263H181.859V30.4833H176.266V29.0263H177.115C177.561 29.0263 178.061 28.206 178.061 27.7743V3.4682C178.061 2.5292 177.506 2.19461 176.777 2.19461H175.7H175.722ZM154.262 15.0924V13.6893C155.764 13.4518 157.538 12.4912 157.69 12.4589C157.962 12.3941 158.332 12.5452 158.332 13.0309V19.2477C158.833 17.3373 159.301 16.2149 159.888 14.9629C160.639 13.3547 161.542 12.4157 162.478 12.4049C163.686 12.4049 164.187 13.2575 164.198 14.434C164.198 15.1248 162.935 15.9126 162.598 15.6536C162.391 15.4162 162.032 15.373 161.716 15.3946C160.149 15.4917 158.833 19.6255 158.343 22.0971V27.7419C158.343 28.2815 158.822 29.0263 159.224 29.0263H161.042V30.4833H154.502V29.0263H155.35C155.797 29.0263 156.297 28.206 156.297 27.7743V16.2041C156.297 15.686 155.775 15.0924 155.263 15.0924H154.273H154.262ZM60.839 25.4861C60.839 27.4289 62.7108 28.6269 64.5716 28.6269C67.956 28.6269 68.8809 25.8855 68.8592 22.9282C68.8374 20.5321 68.0974 18.6757 64.7784 16.8516C61.7967 15.2003 59.9032 12.815 59.9032 9.30727C59.9032 4.66624 62.689 1.62258 67.0745 1.62258C68.2607 1.62258 70.1324 1.88161 70.9268 2.29175V8.67047H69.425L69.3053 5.52968C69.2509 4.20213 67.8254 3.43582 66.563 3.41424C64.2125 3.36027 62.3734 6.05854 62.3734 8.37906C62.3734 11.2069 63.1678 12.4589 66.4107 14.2181C69.5012 15.9019 71.4056 18.5354 71.4056 21.9892C71.4056 24.5687 70.9921 27.1591 69.0333 28.8428C67.4989 30.1596 65.4422 30.5589 63.3963 30.5589C62.2211 30.5589 60.5343 29.9976 59.4352 29.3932L59.5332 22.8634C59.9032 22.8418 60.4255 22.8526 60.8282 22.8526V25.4861H60.839ZM115.968 22.518L117.731 22.3561V26.328C117.393 26.7057 116.632 27.5368 116.207 27.7743C115.206 28.3355 113.9 28.6053 113.117 27.9577C112.116 27.1267 112.224 24.817 112.867 24.0291C113.574 23.1548 114.782 22.626 115.979 22.5288L115.968 22.518ZM117.883 28.1628L117.927 29.5875C117.938 30.03 118.221 30.3214 118.852 30.3214H121.507V28.8644H120.756C120.136 28.8644 119.755 28.2707 119.755 27.4829V17.7151C119.733 14.121 117.829 12.6315 115.794 12.6315C113.552 12.6531 111.952 15.1463 111.082 16.5279L112.094 17.2618C113.258 15.4917 114.292 14.5527 115.478 14.5527C117.165 14.5203 117.731 15.8047 117.731 17.1862V20.9314C115.522 21.0178 112.431 21.2876 110.962 23.6189C110.026 25.1192 110.005 27.4505 110.908 28.9291C111.517 29.9221 112.562 30.4078 113.868 30.397C114.749 30.397 115.522 30.138 116.425 29.4796C116.795 29.2098 117.491 28.6161 117.872 28.152L117.883 28.1628ZM78.3375 22.518L80.1004 22.3561V26.328C79.7631 26.7057 79.0013 27.5368 78.5769 27.7743C77.5758 28.3355 76.2699 28.6053 75.4864 27.9577C74.4852 27.1267 74.5941 24.817 75.2361 24.0291C75.9434 23.1548 77.1514 22.626 78.3484 22.5288L78.3375 22.518ZM80.2528 28.1628L80.2963 29.5875C80.3072 30.03 80.5901 30.3214 81.2213 30.3214H83.8765V28.8644H83.1256C82.5054 28.8644 82.1245 28.2707 82.1245 27.4829V17.7151C82.1027 14.121 80.1984 12.6315 78.1634 12.6315C75.9217 12.6531 74.322 15.1463 73.4514 16.5279L74.4635 17.2618C75.6279 15.4917 76.6617 14.5527 77.8478 14.5527C79.5345 14.5203 80.1004 15.8047 80.1004 17.1862V20.9314C77.8913 21.0178 74.8008 21.2876 73.3317 23.6189C72.3959 25.1192 72.3741 27.4505 73.2773 28.9291C73.8867 29.9221 74.9314 30.4078 76.2373 30.397C77.1187 30.397 77.8913 30.138 78.7946 29.4796C79.1646 29.2098 79.861 28.6161 80.2419 28.152L80.2528 28.1628ZM147.417 22.518L149.18 22.3561V26.328C148.843 26.7057 148.081 27.5368 147.657 27.7743C146.656 28.3355 145.35 28.6053 144.566 27.9577C143.565 27.1267 143.674 24.817 144.316 24.0291C145.023 23.1548 146.231 22.626 147.428 22.5288L147.417 22.518ZM149.333 28.1628L149.376 29.5875C149.387 30.03 149.67 30.3214 150.301 30.3214H152.956V28.8644H152.205C151.585 28.8644 151.204 28.2707 151.204 27.4829V17.7151C151.183 14.121 149.278 12.6315 147.243 12.6315C145.001 12.6531 143.402 15.1463 142.531 16.5279L143.543 17.2618C144.708 15.4917 145.741 14.5527 146.928 14.5527C148.614 14.5203 149.18 15.8047 149.18 17.1862V20.9314C146.971 21.0178 143.881 21.2876 142.412 23.6189C141.476 25.1192 141.454 27.4505 142.357 28.9291C142.967 29.9221 144.011 30.4078 145.317 30.397C146.199 30.397 146.971 30.138 147.874 29.4796C148.244 29.2098 148.941 28.6161 149.322 28.152L149.333 28.1628ZM129.745 25.4753C129.745 27.4181 131.616 28.6161 133.477 28.6161C136.862 28.6161 137.787 25.8747 137.765 22.9174C137.743 20.5213 137.003 18.6649 133.684 16.8409C130.702 15.1895 128.809 12.8042 128.809 9.29647C128.809 4.65544 131.595 1.61179 135.98 1.61179C137.166 1.61179 139.038 1.87082 139.832 2.28096V8.65969H138.331L138.211 5.51889C138.157 4.19134 136.731 3.42503 135.469 3.40344C133.118 3.34947 131.279 6.04775 131.279 8.36827C131.279 11.1961 132.073 12.4481 135.316 14.2073C138.407 15.8911 140.311 18.5246 140.311 21.9784C140.311 24.5579 139.898 27.1483 137.939 28.832C136.405 30.1487 134.348 30.5481 132.302 30.5481C131.127 30.5481 129.44 29.9869 128.341 29.3824L128.439 22.8526C128.809 22.831 129.331 22.8418 129.734 22.8418V25.4753H129.745ZM169.595 22.5072L171.358 22.3453V26.3172C171.021 26.695 170.259 27.526 169.835 27.7635C168.833 28.3247 167.527 28.5945 166.744 27.947C165.743 27.1159 165.852 24.8062 166.494 24.0183C167.201 23.144 168.409 22.6152 169.606 22.518L169.595 22.5072ZM171.51 28.152L171.554 29.5767C171.565 30.0192 171.848 30.3107 172.479 30.3107H175.134V28.8536H174.383C173.763 28.8536 173.382 28.26 173.382 27.4721V17.7043C173.36 14.1102 171.456 12.6208 169.421 12.6208C167.179 12.6423 165.58 15.1355 164.709 16.5171L165.721 17.251C166.885 15.4809 167.919 14.5419 169.105 14.5419C170.792 14.5095 171.358 15.7939 171.358 17.1754V20.9206C169.149 21.007 166.058 21.2768 164.589 23.6081C163.653 25.1084 163.632 27.4397 164.535 28.9183C165.144 29.9113 166.189 30.397 167.495 30.3862C168.376 30.3862 169.149 30.1272 170.052 29.4688C170.422 29.1989 171.119 28.6053 171.499 28.1412L171.51 28.152Z"
          ></path></svg
        >
      </a>
      <div class="flex space-x-4">
        <div>
          <button
            class="transition-all duration-300 rounded-full px-2 py-2 relative"
            on:click={() => {
              if (cart.items.length == 0) {
                goto(
                  $page.params.lang
                    ? "/" + $page.params.lang + "/shop"
                    : "/bg/shop"
                );
              } else {
                goto(
                  $page.params.lang
                    ? "/" + $page.params.lang + "/shop/checkout"
                    : "/bg/shop/checkout"
                );
              }
            }}
          >
            {#if cart.items.length > 0}
              <div
                transition:slide
                class="bg-brown rounded-full h-5 w-5 p-2 flex items-center justify-center absolute -right-1 -top-1"
              >
                <p class="text-white text-xs font-serif">{cart.items.length}</p>
              </div>
            {/if}
            <svg
              width="25"
              height="25"
              viewBox="0 0 25 25"
              class=" {$isInverted ? 'fill-white' : 'fill-brown'}"
              xmlns="http://www.w3.org/2000/svg"
            >
              <g clip-path="url(#clip0_5_575)">
                <path
                  d="M8.84766 15.8594H24.082V8.53516L7.01172 4.96094L6.40625 2.44141L3.94531 1.62109C3.94531 1.58203 3.96484 1.5625 3.96484 1.52344C3.96484 0.683594 3.28125 0 2.44141 0C1.60156 0 0.917969 0.683594 0.917969 1.52344C0.917969 2.36328 1.60156 3.04688 2.44141 3.04688C2.79297 3.04688 3.10547 2.92969 3.35938 2.73438L5.19531 3.65234L7.61719 15.2344L5.17578 17.0703V20.1172L6.28906 21.5039C5.97656 21.875 5.80078 22.3438 5.80078 22.8711C5.80078 24.043 6.75781 25 7.92969 25C9.10156 25 10.0586 24.043 10.0586 22.8711C10.0586 21.6992 9.10156 20.7422 7.92969 20.7422C7.75391 20.7422 7.57812 20.7617 7.42188 20.8008L7.01172 20.1367H19.8242L20.5273 21.3086C20.0977 21.6992 19.8242 22.2656 19.8242 22.8906C19.8242 24.0625 20.7812 25.0195 21.9531 25.0195C23.125 25.0195 24.082 24.0625 24.082 22.8906C24.082 21.7188 23.125 20.7617 21.9531 20.7617C21.9336 20.7617 21.9141 20.7617 21.8945 20.7617L21.6406 20.1562H24.082V18.9453H6.40625V17.7344L8.84766 15.8594ZM8.84766 14.6289L7.94922 10.4492L8.06641 11.0352L11.6797 11.3281L12.4219 14.6484H8.84766V14.6289ZM13.1055 14.6289L12.3828 11.3672L15.918 11.6406L16.1914 14.6289H13.1055ZM16.7773 14.6289L16.5039 11.6992L19.8242 11.9531V14.6289H16.7773ZM22.8711 11.582V14.6289H20.4297V12.0117L22.8711 12.207V11.582L20.4297 11.3867V8.67188L22.8711 9.14062V11.582ZM7.01172 6.09375L19.8242 8.55469V11.3281L16.4453 11.0547L16.1523 7.85156L15.5469 7.73437L15.8594 11.0156L12.2461 10.7227L11.4062 6.95312L10.6836 6.81641L11.543 10.6641L7.92969 10.3711L7.01172 6.09375ZM21.9531 21.9531C22.4609 21.9531 22.8711 22.3633 22.8711 22.8711C22.8711 23.3789 22.4609 23.7891 21.9531 23.7891C21.4453 23.7891 21.0352 23.3789 21.0352 22.8711C21.0352 22.3633 21.4453 21.9531 21.9531 21.9531ZM7.92969 21.9531C8.4375 21.9531 8.84766 22.3633 8.84766 22.8711C8.84766 23.3789 8.4375 23.7891 7.92969 23.7891C7.42187 23.7891 7.01172 23.3789 7.01172 22.8711C7.01172 22.3633 7.42187 21.9531 7.92969 21.9531Z"
                />
              </g>
              <defs>
                <clipPath id="clip0_5_575">
                  <rect width="25" height="25" />
                </clipPath>
              </defs>
            </svg>
          </button>
        </div>
        <button
          class="z-50 relative flex flex-col items-center justify-center pb-5 pt-3 px-2 transition-all duration-300 rounded-full {$isInverted
            ? 'bg-white'
            : 'bg-transparent'}"
          on:click={() => {
            isOpen = !isOpen;
          }}
        >
          <div
            class="h-[2px] w-6 transition-all duration-300 bg-brown {isOpen
              ? 'rotate-45'
              : 'rotate-0'}"
          ></div>
          <div
            class="h-[2px] w-6 transition-all duration-300 bg-brown translate-y-1 {isOpen
              ? 'opacity-0'
              : 'opacity-100'}"
          ></div>
          <div
            class="h-[2px] w-6 transition-all duration-300 bg-brown {isOpen
              ? '-translate-y-1 -rotate-45'
              : 'translate-y-2 rotate-0'}"
          ></div>
        </button>
      </div>
    </div>
    <nav
      class="z-40 bg-white min-h-screen justify-around flex flex-col items-center w-full absolute transition-transform duration-700 {isOpen
        ? ' translate-y-0'
        : '-translate-y-full'}"
    >
      <a
        on:click={() => {
          isOpen = false;
        }}
        href={$page.params.lang ? "/" + $page.params.lang : "/bg/"}
        aria-label="Home page"
      >
        <svg
          class="w-20 md:w-auto"
          width="96"
          height="105"
          viewBox="0 0 96 105"
          fill=""
          xmlns="http://www.w3.org/2000/svg"
        >
          <g clip-path="url(#clip0_144_2603)">
            <path
              fill-rule="evenodd"
              clip-rule="evenodd"
              d="M18.8644 93.4571V92.4939C19.9069 92.0925 21.4827 91.6109 21.5941 91.5868C21.7294 91.5547 21.984 91.5788 21.984 91.7153V93.6096C23.3449 92.2209 24.4989 91.5868 25.2947 91.5868C27.0933 91.5868 27.9289 93.8745 27.9289 95.7849V102.905C27.9289 103.306 28.1836 103.86 28.4781 103.86H29.2261V104.944H25.1196V103.86H25.7404C26.0667 103.86 26.4328 103.25 26.4328 102.929V95.8892C26.4328 94.7414 26.0508 93.1119 24.3556 93.2163C23.3529 93.2805 22.5252 93.9788 21.984 95.0464V102.905C21.984 103.306 22.3342 103.86 22.6287 103.86H23.2653V104.944H19.1747V103.86H19.7955C20.1218 103.86 20.4879 103.25 20.4879 102.929V94.2196C20.4879 93.7782 20.1456 93.4571 19.8989 93.4571H18.8564H18.8644ZM31.6296 101.58V93.5213H30.0856V92.1487C30.6029 92.1648 31.1123 92.1808 31.6296 92.1969V88.9941L33.1496 87.9908V92.2209C34.224 92.2209 35.3063 92.2691 36.3966 92.2049V93.5454L33.1496 93.5614V101.693C33.1496 103.033 33.8261 103.547 34.6856 103.547C35.1472 103.547 35.6485 103.515 36.3091 103.202V104.414C35.561 104.759 34.7413 104.952 33.7067 104.952C33.5237 104.952 32.9029 104.871 32.3219 104.414C31.6534 103.892 31.6296 102.544 31.6296 101.572V101.58ZM85.2132 83.897V82.677L88.0703 82.2676C88.2453 82.2435 88.4284 82.38 88.4284 82.7331V93.9146C89.6858 91.8678 91.0785 91.6671 91.8823 91.6671C93.6809 91.6671 94.5165 93.8584 94.5165 95.7769V102.897C94.5165 103.298 94.7712 103.852 95.0657 103.852H95.8137V104.936H91.7072V103.852H92.328C92.6543 103.852 93.0204 103.242 93.0204 102.921V96.1301C93.0204 94.9822 92.4951 93.3287 90.792 93.441C89.7893 93.5053 88.9616 94.2919 88.4204 95.3595V102.897C88.4204 103.298 88.7706 103.852 89.065 103.852H89.7017V104.936H85.6111V103.852H86.2319C86.5582 103.852 86.9242 103.242 86.9242 102.921V84.8442C86.9242 84.1459 86.5184 83.897 85.9852 83.897H85.1973H85.2132ZM69.5193 93.4892V92.4457C70.6176 92.2691 71.9148 91.5547 72.0262 91.5306C72.2252 91.4825 72.4957 91.5948 72.4957 91.9561V96.5796C72.8618 95.1588 73.204 94.324 73.6338 93.3929C74.1829 92.1969 74.8435 91.4985 75.5279 91.4905C76.4113 91.4905 76.7773 92.1246 76.7853 92.9996C76.7853 93.5133 75.8621 94.0992 75.6154 93.9066C75.4642 93.73 75.2016 93.6979 74.9708 93.714C73.8248 93.7862 72.8618 96.8605 72.5037 98.6987V102.897C72.5037 103.298 72.8539 103.852 73.1483 103.852H74.4774V104.936H69.6944V103.852H70.3151C70.6414 103.852 71.0075 103.242 71.0075 102.921V94.316C71.0075 93.9307 70.6255 93.4892 70.2515 93.4892H69.5273H69.5193ZM1.19679 101.219C1.19679 102.664 2.56563 103.555 3.92651 103.555C6.40156 103.555 7.07802 101.516 7.06211 99.3167C7.04619 97.5348 6.50502 96.1541 4.07772 94.7976C1.89713 93.5695 0.512375 91.7955 0.512375 89.1868C0.512375 85.7352 2.54972 83.4716 5.75694 83.4716C6.6244 83.4716 7.99323 83.6643 8.57419 83.9693V88.7132H7.47594L7.3884 86.3774C7.34861 85.39 6.30606 84.8201 5.38289 84.8041C3.66389 84.7639 2.31892 86.7707 2.31892 88.4965C2.31892 90.5995 2.89988 91.5306 5.27147 92.839C7.53165 94.0912 8.92436 96.0498 8.92436 98.6184C8.92436 100.537 8.62194 102.463 7.18944 103.715C6.06731 104.695 4.56318 104.992 3.06701 104.992C2.20751 104.992 0.97396 104.574 0.170166 104.125L0.241791 99.2686C0.512375 99.2525 0.894377 99.2605 1.18884 99.2605V101.219H1.19679ZM41.5138 99.0117L42.8031 98.8913V101.845C42.5564 102.126 41.9993 102.744 41.6889 102.921C40.9568 103.338 40.0018 103.539 39.4288 103.057C38.6966 102.439 38.7762 100.721 39.2457 100.135C39.763 99.4853 40.6464 99.092 41.5218 99.0197L41.5138 99.0117ZM42.9145 103.21L42.9464 104.269C42.9543 104.598 43.1612 104.815 43.6228 104.815H45.5646V103.732H45.0155C44.5619 103.732 44.2834 103.29 44.2834 102.704V95.4397C44.2674 92.7668 42.8747 91.6591 41.3865 91.6591C39.7471 91.6751 38.5772 93.5293 37.9405 94.5568L38.6807 95.1026C39.5322 93.7862 40.2883 93.0879 41.1557 93.0879C42.3893 93.0638 42.8031 94.019 42.8031 95.0464V97.8318C41.1876 97.896 38.9274 98.0966 37.853 99.8305C37.1686 100.946 37.1527 102.68 37.8132 103.78C38.2589 104.518 39.0229 104.879 39.9779 104.871C40.6225 104.871 41.1875 104.679 41.8481 104.189C42.1187 103.988 42.628 103.547 42.9066 103.202L42.9145 103.21ZM13.9938 99.0117L15.2831 98.8913V101.845C15.0364 102.126 14.4793 102.744 14.1689 102.921C13.4368 103.338 12.4817 103.539 11.9087 103.057C11.1766 102.439 11.2562 100.721 11.7257 100.135C12.243 99.4853 13.1264 99.092 14.0018 99.0197L13.9938 99.0117ZM15.3945 103.21L15.4263 104.269C15.4343 104.598 15.6412 104.815 16.1028 104.815H18.0446V103.732H17.4955C17.0419 103.732 16.7633 103.29 16.7633 102.704V95.4397C16.7474 92.7668 15.3547 91.6591 13.8665 91.6591C12.2271 91.6751 11.0572 93.5293 10.4205 94.5568L11.1607 95.1026C12.0122 93.7862 12.7682 93.0879 13.6357 93.0879C14.8693 93.0638 15.2831 94.019 15.2831 95.0464V97.8318C13.6675 97.896 11.4074 98.0966 10.333 99.8305C9.64857 100.946 9.63266 102.68 10.2932 103.78C10.7389 104.518 11.5029 104.879 12.4579 104.871C13.1025 104.871 13.6675 104.679 14.3281 104.189C14.5987 103.988 15.108 103.547 15.3866 103.202L15.3945 103.21ZM64.5135 99.0117L65.8028 98.8913V101.845C65.5561 102.126 64.999 102.744 64.6886 102.921C63.9564 103.338 63.0014 103.539 62.4284 103.057C61.6962 102.439 61.7758 100.721 62.2454 100.135C62.7627 99.4853 63.646 99.092 64.5215 99.0197L64.5135 99.0117ZM65.9142 103.21L65.946 104.269C65.954 104.598 66.1609 104.815 66.6225 104.815H68.5643V103.732H68.0152C67.5616 103.732 67.283 103.29 67.283 102.704V95.4397C67.2671 92.7668 65.8744 91.6591 64.3862 91.6591C62.7467 91.6751 61.5769 93.5293 60.9402 94.5568L61.6803 95.1026C62.5319 93.7862 63.2879 93.0879 64.1554 93.0879C65.3889 93.0638 65.8028 94.019 65.8028 95.0464V97.8318C64.1872 97.896 61.927 98.0966 60.8527 99.8305C60.1682 100.946 60.1523 102.68 60.8129 103.78C61.2585 104.518 62.0225 104.879 62.9775 104.871C63.6222 104.871 64.1872 104.679 64.8478 104.189C65.1183 103.988 65.6277 103.547 65.9062 103.202L65.9142 103.21ZM51.5891 101.211C51.5891 102.656 52.958 103.547 54.3188 103.547C56.7939 103.547 57.4704 101.508 57.4544 99.3087C57.4385 97.5267 56.8974 96.1461 54.4701 94.7896C52.2895 93.5614 50.9047 91.7875 50.9047 89.1787C50.9047 85.7272 52.9421 83.4636 56.1493 83.4636C57.0167 83.4636 58.3856 83.6562 58.9665 83.9613V88.7052H57.8683L57.7807 86.3693C57.7409 85.382 56.6984 84.8121 55.7752 84.7961C54.0562 84.7559 52.7113 86.7626 52.7113 88.4884C52.7113 90.5915 53.2922 91.5226 55.6638 92.831C57.924 94.0832 59.3167 96.0418 59.3167 98.6104C59.3167 100.529 59.0143 102.455 57.5818 103.707C56.4596 104.687 54.9555 104.984 53.4593 104.984C52.5998 104.984 51.3663 104.566 50.5625 104.117L50.6341 99.2605C50.9047 99.2445 51.2867 99.2525 51.5812 99.2525V101.211H51.5891ZM80.7326 99.0037L82.0219 98.8833V101.837C81.7752 102.118 81.2181 102.736 80.9077 102.913C80.1756 103.33 79.2206 103.531 78.6476 103.049C77.9154 102.431 77.995 100.713 78.4645 100.127C78.9818 99.4773 79.8652 99.084 80.7406 99.0117L80.7326 99.0037ZM82.1333 103.202L82.1651 104.261C82.1731 104.59 82.38 104.807 82.8416 104.807H84.7834V103.724H84.2343C83.7807 103.724 83.5022 103.282 83.5022 102.696V95.4317C83.4862 92.7587 82.0935 91.651 80.6053 91.651C78.9659 91.6671 77.796 93.5213 77.1593 94.5488L77.8995 95.0946C78.751 93.7782 79.507 93.0798 80.3745 93.0798C81.6081 93.0557 82.0219 94.0109 82.0219 95.0384V97.8237C80.4063 97.8879 78.1462 98.0886 77.0718 99.8224C76.3874 100.938 76.3715 102.672 77.032 103.772C77.4777 104.51 78.2417 104.871 79.1967 104.863C79.8413 104.863 80.4063 104.671 81.0669 104.181C81.3375 103.98 81.8468 103.539 82.1254 103.194L82.1333 103.202Z"
              fill="#575756"
            />
            <path
              fill-rule="evenodd"
              clip-rule="evenodd"
              d="M48 55.482C53.9847 59.3028 61.0597 60.563 68.079 59.9048C73.419 59.4071 78.3691 57.9302 82.9611 55.5622C86.8925 53.5395 90.5772 50.8504 93.9038 47.6959C92.4952 47.5835 90.6329 48.041 89.0492 48.7795C84.9586 52.3354 81.0511 54.1896 75.3211 54.9281C71.501 55.4178 67.5696 55.3616 63.9884 54.6793C60.4548 54.013 56.8736 52.6645 53.8733 50.6899C65.9063 38.786 64.8319 11.5427 48 -0.00805664C30.3643 11.8236 30.3006 38.6014 42.1267 50.6899C39.1264 52.6645 35.5452 54.005 32.0117 54.6793C28.4304 55.3616 24.499 55.4178 20.679 54.9281C14.9489 54.1896 11.0334 52.3354 6.95079 48.7795C5.36708 48.041 3.50482 47.5835 2.09619 47.6959C5.42279 50.8504 9.10751 53.5395 13.0389 55.5622C17.6389 57.9302 22.581 59.3991 27.9211 59.9048C34.9403 60.563 42.0153 59.2948 48 55.482ZM48 45.7132C59.2054 37.887 56.213 12.0484 48 4.10975C38.633 12.0484 36.7946 37.887 48 45.7132Z"
              fill="#575756"
            />
          </g>
          <defs>
            <clipPath id="clip0_144_2603">
              <rect
                width="95.6436"
                height="105"
                fill="white"
                transform="translate(0.178223)"
              />
            </clipPath>
          </defs>
        </svg>
      </a>
      <div class="w-full space-y-4 md:space-y-20">
        <div class="grid grid-cols-1 gap-5 md:gap-0 md:grid-cols-3">
          {#if pageData && pageData.header && pageData.header.colums }
            {#each pageData.header.colums as column, i}
              {#if i != 3}
                <div class="flex flex-col items-center space-y-0 md:space-y-2">
                  {#if column.links }
                    {#each column.links as link, i}
                      <a
                        on:click={() => {
                          isOpen = false;
                        }}
                        class=" w-fit
                          {link.isHeading
                          ? "text-brown font-sansy uppercase text-xl text-center"
                          : "italic font-serif text-lg md:text-base text-gray text-center"}"
                        href={$page.params.lang ? "/" +$page.params.lang+link.url : "/bg" + link.url}>{link?.text}</a
                      >
                    {/each}
                  {/if}
                </div>
              {/if}
            {/each}
          {/if}
        </div>
  
        <div class="flex flex-row w-full justify-center px-2 md:px-0">
          {#if pageData && pageData.header && pageData.header.colums }
            {#each pageData.header.colums as column, i}
              {#if i == 3}
                <div class="flex flex-col">
                  {#if column.links }
                    {#each column.links as link, i}
                      {#if i == 0}
                        <a
                          on:click={() => {
                            isOpen = false;
                          }}
                          class={link.isHeading
                            ? "text-brown font-sansy uppercase text-xl text-center"
                            : "italic font-serif text-gray text-center"}
                          href={$page.params.lang ? "/" +$page.params.lang+link.url : "/bg" + link.url}>{link?.text}</a
                        >
                      {/if}
                    {/each}
                    <div class="flex flex-row space-x-5 items-center justify-center flex-wrap">
                      {#each column.links as link, i}
                        {#if i != 0}
                          <a
                            on:click={() => {
                              isOpen = false;
                            }}
                            class={link.isHeading
                              ? "text-brown font-sansy uppercase text-xl text-center"
                              : "italic font-serif text-lg md:text-base text-gray text-center"}
                            href={$page.params.lang ? "/" +$page.params.lang+link.url : "/bg" + link.url}>{link?.text}</a
                          >
                        {/if}
                      {/each}
                    </div>
                  {/if}
                </div>
              {/if}
            {/each}
            {/if}
          </div>
        </div>
        <!-- svelte-ignore a11y-click-events-have-key-events -->
        <!-- svelte-ignore a11y-no-static-element-interactions -->
        <div                   
          on:click={() => {
          isOpen = false;
        }} 
          class="flex items-center justify-center">
          <Button buttonText={pageData.wines.buttonGoToShop} link="/shop" />
        </div>
      <div class="space-y-5">
        <div class="hidden md:flex flex-col ">
          {#if pageData && pageData.footer && pageData.footer.address }
            {#each pageData.footer.address as address }
              {#if address.url }  
                <a
                  on:click={() => {
                    isOpen = false;
                  }}
                  class="text-brown text-sm text-center font-serif"
                  href={address.url}>{address.text}
                </a>
              {:else}
                <p class="text-brown text-sm text-center font-serif">{address.text}</p>
              {/if}
            {/each}
          {/if}
        </div>
        <div class="flex flex-col md:flex-row space-y-2 md:space-y-0 md:space-x-5">
          {#if pageData && pageData.footer && pageData.footer.links  }  
            {#each pageData.footer.links as link }
              {#if link.url }                
                <a                   
                  on:click={() => {
                    isOpen = false;
                  }} 
                  class="text-brown text-sm font-serif italic text-center" href="{$page.params.lang ? "/" +$page.params.lang+link.url : "/bg" + link.url}">{link.text}
                </a>
              {:else}
                <p class="text-brown text-sm font-serif italic text-center">{link.text}</p>
              {/if}
            {/each}
          {/if}
        </div>
      </div>
      <div class=" md:hidden">
        <Lang />
      </div>
    </nav>
  </div>
</header>
